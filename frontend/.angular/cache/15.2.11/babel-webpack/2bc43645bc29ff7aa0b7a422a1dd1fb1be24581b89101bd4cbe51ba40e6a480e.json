{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport r from \"../config.js\";\nimport { id as t } from \"../kernel.js\";\nimport { clone as o } from \"../core/lang.js\";\nimport { urlToObject as e } from \"../core/urlUtils.js\";\nimport { supportsApiKey as n } from \"../support/apiKeyUtils.js\";\nfunction i(r, t) {\n  return t ? {\n    ...t,\n    query: {\n      ...(r ?? {}),\n      ...t.query\n    }\n  } : {\n    query: r\n  };\n}\nfunction f(r) {\n  return \"string\" == typeof r ? e(r) : o(r);\n}\nfunction s(r, t, o) {\n  const e = {};\n  for (const n in r) {\n    if (\"declaredClass\" === n) continue;\n    const i = r[n];\n    if (null != i && \"function\" != typeof i) if (Array.isArray(i)) {\n      e[n] = [];\n      for (let r = 0; r < i.length; r++) e[n][r] = s(i[r]);\n    } else if (\"object\" == typeof i) {\n      if (i.toJSON) {\n        const r = i.toJSON(o?.[n]);\n        e[n] = t ? r : JSON.stringify(r);\n      } else e[n] = t ? i : JSON.stringify(i);\n    } else e[n] = i;\n  }\n  return e;\n}\nfunction l(o, e) {\n  return o ? n(o) && (e || r.apiKey) ? e || r.apiKey : t?.findCredential(o)?.token : null;\n}\nexport { i as asValidOptions, s as encode, l as getToken, f as parseUrl };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}