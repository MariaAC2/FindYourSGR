{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../chunks/tslib.es6.js\";\nimport t from \"../core/Logger.js\";\nimport { property as r } from \"../core/accessorSupport/decorators/property.js\";\nimport { cast as i } from \"../core/accessorSupport/decorators/cast.js\";\nimport \"../core/arrayUtils.js\";\nimport \"../core/has.js\";\nimport { reader as s } from \"../core/accessorSupport/decorators/reader.js\";\nimport { subclass as o } from \"../core/accessorSupport/decorators/subclass.js\";\nimport { writer as a } from \"../core/accessorSupport/decorators/writer.js\";\nimport { ensureNumber as l } from \"../core/accessorSupport/ensureType.js\";\nimport n from \"./Geometry.js\";\nimport u from \"./SpatialReference.js\";\nimport { distance as c } from \"./support/pointUtils.js\";\nimport { getInfo as p } from \"./support/spatialReferenceUtils.js\";\nimport { lngLatToXY as h, xyToLngLat as d } from \"./support/webMercatorUtils.js\";\nvar y;\nconst m = [0, 0];\nfunction f(e) {\n  return e && (\"esri.geometry.SpatialReference\" === e.declaredClass || null != e.wkid);\n}\nlet g = y = class extends n {\n  static copy(e, t) {\n    t._set(\"x\", e._get(\"x\")), t._set(\"y\", e._get(\"y\")), t._set(\"z\", e._get(\"z\")), t._set(\"m\", e._get(\"m\"));\n    const r = e._get(\"spatialReference\");\n    t._set(\"spatialReference\", Object.isFrozen(r) ? r : r.clone());\n  }\n  constructor(...e) {\n    super(...e), this.x = 0, this.y = 0, this.z = void 0, this.m = void 0, this.type = \"point\";\n  }\n  normalizeCtorArgs(e, r, i, s, o) {\n    let a;\n    if (Array.isArray(e)) a = e, o = r, e = a[0], r = a[1], i = a[2], s = a[3];else if (e && \"object\" == typeof e) {\n      if (a = e, e = null != a.x ? a.x : a.longitude, r = null != a.y ? a.y : a.latitude, i = a.z, s = a.m, (o = a.spatialReference) && \"esri.geometry.SpatialReference\" !== o.declaredClass && (o = new u(o)), null != a.longitude || null != a.latitude) if (null == a.longitude) t.getLogger(this).warn(\".longitude=\", \"Latitude was defined without longitude\");else if (null == a.latitude) t.getLogger(this).warn(\".latitude=\", \"Longitude was defined without latitude\");else if (!a.declaredClass && o && o.isWebMercator) {\n        const t = h(a.longitude, a.latitude, m);\n        e = t[0], r = t[1];\n      }\n    } else f(i) ? (o = i, i = null) : f(s) && (o = s, s = null);\n    const l = {\n      x: e,\n      y: r\n    };\n    return null == l.x && null != l.y ? t.getLogger(this).warn(\".y=\", \"Y coordinate was defined without an X coordinate\") : null == l.y && null != l.x && t.getLogger(this).warn(\".x=\", \"X coordinate was defined without a Y coordinate\"), null != o && (l.spatialReference = o), null != i && (l.z = i), null != s && (l.m = s), l;\n  }\n  get cache() {\n    return this.commitProperty(\"x\"), this.commitProperty(\"y\"), this.commitProperty(\"z\"), this.commitProperty(\"m\"), this.commitProperty(\"spatialReference\"), {};\n  }\n  get hasM() {\n    return void 0 !== this.m;\n  }\n  set hasM(e) {\n    e !== (void 0 !== this._get(\"m\")) && (this._set(\"m\", e ? 0 : void 0), this._set(\"hasM\", e));\n  }\n  get hasZ() {\n    return void 0 !== this.z;\n  }\n  set hasZ(e) {\n    e !== (void 0 !== this._get(\"z\")) && (this._set(\"z\", e ? 0 : void 0), this._set(\"hasZ\", e));\n  }\n  get latitude() {\n    const {\n      spatialReference: e,\n      x: t,\n      y: r\n    } = this;\n    if (e) {\n      if (e.isWebMercator) return d(t, r, m)[1];\n      if (e.isGeographic) return r;\n    }\n    return null;\n  }\n  set latitude(e) {\n    const {\n      spatialReference: t,\n      x: r\n    } = this;\n    null != e && t && (t.isWebMercator ? this._set(\"y\", h(r, e, m)[1]) : t.isGeographic && this._set(\"y\", e), this._set(\"latitude\", e));\n  }\n  get longitude() {\n    const {\n      x: e,\n      y: t,\n      spatialReference: r\n    } = this;\n    if (r) {\n      if (r.isWebMercator) return d(e, t, m)[0];\n      if (r.isGeographic) return e;\n    }\n    return null;\n  }\n  set longitude(e) {\n    const {\n      y: t,\n      spatialReference: r\n    } = this;\n    null != e && r && (r.isWebMercator ? this._set(\"x\", h(e, t, m)[0]) : r.isGeographic && this._set(\"x\", e), this._set(\"longitude\", e));\n  }\n  writeX(e, t, r) {\n    t[r] = isNaN(e) ? \"NaN\" : e;\n  }\n  readX(e) {\n    return \"string\" == typeof e ? NaN : e;\n  }\n  clone() {\n    const e = new y();\n    return e.x = this.x, e.y = this.y, e.z = this.z, e.m = this.m, e.spatialReference = this.spatialReference, e;\n  }\n  copy(e) {\n    return y.copy(e, this), this;\n  }\n  equals(e) {\n    if (null == e) return !1;\n    const {\n        x: t,\n        y: r,\n        z: i,\n        m: s,\n        spatialReference: o\n      } = this,\n      {\n        z: a,\n        m: l\n      } = e;\n    let {\n      x: n,\n      y: u,\n      spatialReference: c\n    } = e;\n    if (!o.equals(c)) if (o.isWebMercator && c.isWGS84) [n, u] = h(n, u), c = o;else {\n      if (!o.isWGS84 || !c.isWebMercator) return !1;\n      [n, u] = d(n, u), c = o;\n    }\n    return t === n && r === u && i === a && s === l && o.wkid === c.wkid;\n  }\n  offset(e, t, r) {\n    return this.x += e, this.y += t, null != r && (this.z = (this.z ?? 0) + r), this;\n  }\n  normalize() {\n    if (!this.spatialReference) return this;\n    const e = p(this.spatialReference);\n    if (!e) return this;\n    let t = this.x;\n    const [r, i] = e.valid,\n      s = 2 * i;\n    let o;\n    return t > i ? (o = Math.ceil(Math.abs(t - i) / s), t -= o * s) : t < r && (o = Math.ceil(Math.abs(t - r) / s), t += o * s), this._set(\"x\", t), this;\n  }\n  distance(e) {\n    return c(this, e);\n  }\n  toArray() {\n    const e = this.hasZ,\n      t = this.hasM;\n    return e && t ? [this.x, this.y, this.z, this.m] : e ? [this.x, this.y, this.z] : t ? [this.x, this.y, this.m] : [this.x, this.y];\n  }\n  toJSON(e) {\n    return this.write({}, e);\n  }\n};\ne([r({\n  readOnly: !0\n})], g.prototype, \"cache\", null), e([r({\n  type: Boolean,\n  json: {\n    read: !1,\n    write: {\n      enabled: !1,\n      overridePolicy: null\n    }\n  }\n})], g.prototype, \"hasM\", null), e([r({\n  type: Boolean,\n  json: {\n    read: !1,\n    write: {\n      enabled: !1,\n      overridePolicy: null\n    }\n  }\n})], g.prototype, \"hasZ\", null), e([r({\n  type: Number\n})], g.prototype, \"latitude\", null), e([r({\n  type: Number\n})], g.prototype, \"longitude\", null), e([r({\n  type: Number,\n  json: {\n    type: [Number, String],\n    write: {\n      isRequired: !0,\n      allowNull: !0\n    }\n  }\n}), i(e => isNaN(e) ? e : l(e))], g.prototype, \"x\", void 0), e([a(\"x\")], g.prototype, \"writeX\", null), e([s(\"x\")], g.prototype, \"readX\", null), e([r({\n  type: Number,\n  json: {\n    write: !0\n  }\n})], g.prototype, \"y\", void 0), e([r({\n  type: Number,\n  json: {\n    write: {\n      overridePolicy() {\n        return {\n          enabled: this.hasZ\n        };\n      }\n    }\n  }\n})], g.prototype, \"z\", void 0), e([r({\n  type: Number,\n  json: {\n    write: {\n      overridePolicy() {\n        return {\n          enabled: this.hasM\n        };\n      }\n    }\n  }\n})], g.prototype, \"m\", void 0), g = y = e([o(\"esri.geometry.Point\")], g), g.prototype.toJSON.isDefaultToJSON = !0;\nconst x = g;\nexport { x as default };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}